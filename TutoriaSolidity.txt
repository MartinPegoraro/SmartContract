pragma solidity ^0.4.0;
contract Tutoria {
    
    struct tutoriaData{
        
        address profesor;
        address alumno;
        string materia;
        bool estaConfirmado;
        bool cancelar;
    }
       mapping (address => tutoriaData) public tutorias;
    
    function solicitarTut (address prof, string mat) public{
       
        require(prof != msg.sender);
        //require (msg.sender != prof);
       
        tutoriaData tut = tutorias[msg.sender];
        
        tut.alumno= msg.sender;
        tut.profesor = prof;
        tut.materia = mat;
        tut.estaConfirmado = false;
        tut.cancelar = false;
        
        
        
    }
    
 

    function getProfesor() public view returns(address){
        return tutorias[msg.sender].profesor;
    }
    function getMateria() public view returns(string){
        return tutorias[msg.sender].materia;
    }
    
    function getAlumno() public view returns (address) {
        return tutorias[msg.sender].alumno;
    }
    
    //function getAlumno(address key) public returns (address) {
    //    return tutorias[key].alumno;
    //}
    
    
    function confir() public view returns (bool) {
        //tutoriaData tut= tutorias
        require(tutorias[msg.sender].profesor == msg.sender);
        
        require(tutorias[msg.sender].estaConfirmado == false);
        
        return tutorias[msg.sender].estaConfirmado = true;
    }
    
    function cancelar() public view returns (bool) {
        require(tutorias[msg.sender].alumno == msg.sender);
        require(tutorias[msg.sender].estaConfirmado == false);
        require(tutorias[msg.sender].cancelar == false);
        return tutorias[msg.sender].cancelar = true;
    }
    
    function estaConfirmado() public view returns (bool){
        return tutorias[msg.sender].estaConfirmado;
    }
}